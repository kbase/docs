<html>
  <head>
    <title>KBase Analysis Notebook</title>
  </head>

  <body>
    <h2>KBase Analysis Notebook</h2>
    <h4>A ipython notebook with bindings to kbase APIs and built in analysis and QC tools</h4>
    <h3>Description</h3>
    <p>ipython notebook server http://ipython.org/ipython-doc/rel-0.13/overview.html.  This is a web based python shell interface with ability to use other shells (bash, perl, R).  Allows execution of code blocks (called cells) and display of the results as plain text or images or markup (html / javascript).</p>

    <h3>Basic Usage</h3>
    <h4>Launch Page</h4>
    <img src="/images/image06.png" width=625 />
    <p>Here we have the login / launch page which lists all the users available notebooks. A notebook is a python data structure in plain text that saves all the history of commands and output that occurred in notebook session.The user can do the following:</p>
    <ol>
      <li>create new notebook</li>
      <li>launch existing notebook</li>
      <li>delete existing notebook</li>
      <li>upload notebook</li>
    </ol>

    <h4>Notebook Page</h4>
    Composed of 2 parts.
    <ol>
      <li>A top control bar with buttons / drop-down menus</li>
      <img src="/images/image20.png" width=625/>
      <li>An interactive notebook space below, composed of ‘cells’.</li>
      <img src="/images/image15.png" width=625/>
    </ol>

    <h4>Notebook Usage</h4>
    <p>Work within the notebook is done by entering commands into a cell, this can be done with one or more lines.  To execute the commands in the cell use shift-return.  Cells are numbered by execution order and may be re-ran in any order.  The results (if any) are displayed in the space below that cell.</p>
    Results may be:
    <ol>
      <li>JSON or serialized python objects</li>
      <li>html / markup</li>
      <li>javascript / svg</li>
      <li>math equations / latex</li>
      <li>images: png / jpg / pdf / etc.</li>
    </ol>

    Cell interpreters:
    <table>
      <tr>
        <td>command</td>
        <td>cell interproter</td>
      </tr>
      <tr>
        <td>default</td>
        <td>python</td>
      </tr>
    </table>
    <img src="/images/image09.png" width=269 style="clear: both;"/>
    <table>
      <tr>
        <td>!</td>
        <td>system shell (single line only)</td>
      </tr>
      <tr>
        <td>%%!</td>
        <td>system shell</td>
      </tr>
      <tr>
        <td>%%bash /td>
        <td>bash</td>
      </tr>
    </table>
    <img src="/images/image07.png" width=625 style="clear: both;"/>
    <table>
      <tr>
        <td>%%R</td>
        <td>R</td>
      </tr>
    </table>
    <img src="/images/image03.png" width=625 style="clear: both;"/>
    <table>
      <tr>
        <td>%%perl /td>
        <td>Perl</td>
      </tr>
    </table>
    <img src="/images/image19.png" width=379 style="clear: both;" />
    <table>
      <tr>
        <td>%%ruby /td>
        <td>Ruby</td>
      </tr>
      <tr>
        <td>%% /td>
        <td>Perl</td>
      </tr>      
    </table>

    <h3>API Usage</h3>
    <h4>CDM api</h4>
    <img src="/images/image16.png" width=625 />
    <h4>REST API</h4>
    <img src="/images/image22.png" width=625 />

    <h3>Analysis Usage</h3>
    workflow:
    <ol>
      <li>kbase api’s / aux_store for data retrieval</li>
      <li>abundance data</li>
      <li>matR R package</li>
      <li>normalization</li>
      <li>distance matrix</li>
      <li>pcoa</li>
      <li>heatmap</li>
      <li>plots</li>
    </ol>

    examples:
    <ol>
      <li>genome subsystem abundance</li>
        <ul>
          <li>pcoa</li>
          <img src="/images/image13.png" width=625 />
          <li>pie chart</li>
          <img src="/images/image18.png" width=625 />
        </ul>
      <li>community subsystem abundance</li>
        <img src="/images/image04.png" width=625 />
        <ul>
          <li>pcoa</li>
          <img src="/images/image17.png" width=625 />
          <li>heatmap</li>
          <img src="/images/image10.png" width=625 />
        </ul>
    </ol>

    <h3>QC Usage</h3>
    <ol>
      <li>create QC object from ID</li>
        <ul>
          <li>myqc = qc.QC(<ID>)</li>
        </ul>
      <img src="/images/image05.png" width=625 />
      <li>QC object contains 3 object types</li>
        <ul>
          <li>drisee</li>
          <li>kmer</li>
          <li>bp histogram</li>
        </ul>
      <li>view data types</li>
      <img src="/images/image23.png" width=625 />
        <ul>
          <li>print myqc.drisee.error</li>
          <li>print myqc.drisee.count</li>
          <li>print myqc.drisee.percent</li>
          <li>print mycq.kmer.data</li>
          <li>print myqc.bp_histo.count</li>
          <li>print myqc.bp_histo.percent</li>
        </ul>
      <li>plot data types</li>
        <ul>
          <li>myqc.drisee.plot()</li>
          <img src="/images/image14.png" width=625 />
          <li>myqc.bp_histo.plot()</li>
          <img src="/images/image00.png" width=625 />
          <li>myqc.kmer.plot_abundance()</li>
          <img src="/images/image02.png" width=625 />
          <li>myqc.kmer.plot_ranked()</li>
          <li>myqc.kmer.plot_spectrum()</li>
          <img src="/images/image01.png" width=625 />
        </ul>
      </ol>


  </body>
</html>